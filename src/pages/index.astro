---
import BaseLayout from "../layouts/BaseLayout.astro";

const notes = import.meta.glob('./notes/**/*.md', { eager: true });

const entries = Object.entries(notes)
  .map(([path, mod]) => ({
    url: path.replace('./', '/').replace('.md', ''),
    title: mod.frontmatter?.title ?? path,
  }))
  .sort((a, b) => (a.url < b.url ? 1 : -1));
---

<BaseLayout title="Thinking Lab">
  <h1 class="mb-4">Thinking Lab</h1>

  <p class="mb-6"><a href="/about/">about</a></p>

  <h2 class="mb-2">Notes</h2>
  <ul>
    {entries.map(entry => (
      <li>
        <a href={entry.url}>{entry.title}</a>
      </li>
    ))}
  </ul>
</BaseLayout>
