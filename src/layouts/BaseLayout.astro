---
import "../styles/global.css";

const {
  title = "Thinking Lab",
} = Astro.props;

// 現在のURL
const url = Astro.url.pathname;

// 戻り先を自動判定
let backLink = null;

// トップ以外ならトップに戻す
if (url !== "/") {
  backLink = "/";
}
---

<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>

    <!-- canonical 自動生成 -->
    <link rel="canonical" href={Astro.url.toString()} />
  </head>

<body>
  <div class="max-w-2xl mx-auto p-4">
    {backLink && (
      <nav class="mb-6">
        <a href={backLink} class="text-sm text-gray-500 hover:text-black">
          ← 戻る
        </a>
      </nav>
    )}

    <main class="prose prose-neutral">
      <slot />
    </main>
  </div>
</body>
</html>
